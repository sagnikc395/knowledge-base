@charset "UTF-8";

/* Import ET Book styles
   adapted from https://github.com/edwardtufte/et-book/blob/gh-pages/et-book.css */

@font-face {
	font-family: 'et-book';
	src: url('./assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot');
	src:
		url('./assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot?#iefix')
			format('embedded-opentype'),
		url('./assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.woff') format('woff'),
		url('./assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.ttf') format('truetype'),
		url('./assets/et-book/et-book-roman-line-figures/et-book-roman-line-figures.svg#etbookromanosf')
			format('svg');
	font-weight: normal;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'et-book';
	src: url('./assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot');
	src:
		url('./assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot?#iefix')
			format('embedded-opentype'),
		url('./assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.woff')
			format('woff'),
		url('./assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.ttf')
			format('truetype'),
		url('./assets/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.svg#etbookromanosf')
			format('svg');
	font-weight: normal;
	font-style: italic;
	font-display: swap;
}

@font-face {
	font-family: 'et-book';
	src: url('./assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot');
	src:
		url('./assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot?#iefix')
			format('embedded-opentype'),
		url('./assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.woff') format('woff'),
		url('./assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.ttf') format('truetype'),
		url('./assets/et-book/et-book-bold-line-figures/et-book-bold-line-figures.svg#etbookromanosf')
			format('svg');
	font-weight: bold;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'et-book-roman-old-style';
	src: url('./assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot');
	src:
		url('./assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot?#iefix')
			format('embedded-opentype'),
		url('./assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.woff')
			format('woff'),
		url('./assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.ttf')
			format('truetype'),
		url('./assets/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.svg#etbookromanosf')
			format('svg');
	font-weight: normal;
	font-style: normal;
	font-display: swap;
}

/* Tufte CSS styles refined with Flexoki colors */
:root {
  --base-00: #FFFCF0; /* Background */
  --base-10: #F2F0E5; /* Sidebar/Secondary BG */
  --base-70: #6F6E69; /* Muted text */
  --base-100: #100F0F; /* Main text */
  --accent: #205EA6; /* Blue accent */
  --accent-muted: #CECDC3;
  --line-height: 1.65;
  --font-serif: et-book, Palatino, 'Palatino Linotype', 'Palatino LT STD', 'Book Antiqua', Georgia, serif;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
}

@media (prefers-color-scheme: dark) {
  :root {
    --base-00: #100F0F;
    --base-10: #1C1B1A;
    --base-70: #878580;
    --base-100: #CECDC3;
    --accent: #4385BE;
    --accent-muted: #403E3C;
  }
}

html {
	font-size: 16px;
  scroll-behavior: smooth;
}

body {
	width: 100%;
	margin: 0;
	padding: 0;
	font-family: var(--font-serif);
	background-color: var(--base-00);
	color: var(--base-100);
	counter-reset: sidenote-counter;
  line-height: var(--line-height);
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4, h5, h6 {
  color: var(--base-100);
  margin-bottom: 1rem;
}

h1 {
	font-weight: 400;
	margin-top: 3rem;
	margin-bottom: 1.5rem;
	font-size: 2.8rem;
	line-height: 1.1;
}

h2 {
	font-style: italic;
	font-weight: 400;
	margin-top: 2.5rem;
	margin-bottom: 1rem;
	font-size: 2.1rem;
	line-height: 1.2;
}

h3 {
	font-style: italic;
	font-weight: 400;
	font-size: 1.6rem;
	margin-top: 2rem;
	margin-bottom: 0.8rem;
	line-height: 1.2;
}

hr {
	display: block;
	height: 1px;
	width: 100%;
	border: 0;
	border-top: 1px solid var(--accent-muted);
	margin: 2em 0;
	padding: 0;
}

p.subtitle {
	font-style: italic;
	margin-top: 0.5rem;
	margin-bottom: 2rem;
	font-size: 1.2rem;
	display: block;
	line-height: 1.4;
  color: var(--base-70);
}

.numeral {
	font-family: et-book-roman-old-style;
}

article {
	padding: 2rem 0;
}

section {
	padding-top: 1rem;
	padding-bottom: 1rem;
}

p,
dl,
ol,
ul,
blockquote,
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	font-size: 1.15rem;
	line-height: var(--line-height);
  max-width: 42rem; /* Optimal line length */
}

p {
	margin-top: 1.4rem;
	margin-bottom: 1.4rem;
}

@media (max-width: 1200px) {
  p, dl, ol, ul, blockquote, .markdown-body h1, .markdown-body h2, .markdown-body h3 {
    max-width: 100%;
  }
}

blockquote {
	font-size: 1.1rem;
  border-left: 2px solid var(--accent);
  margin: 2rem 0;
  padding-left: 1.5rem;
  font-style: italic;
  color: var(--base-70);
}

blockquote p {
  width: 100% !important;
}

/* Sidenotes and marginnotes refinement */
.sidenote,
.marginnote {
	float: right;
	clear: right;
	margin-right: -45%;
	width: 40%;
	margin-top: 0.3rem;
	margin-bottom: 1rem;
	font-size: 0.9rem;
	line-height: 1.4;
	vertical-align: baseline;
	position: relative;
  color: var(--base-70);
}

@media (max-width: 1200px) {
  .sidenote, .marginnote {
    float: none;
    margin-right: 0;
    width: 100%;
    display: block;
    border-left: 2px solid var(--accent-muted);
    padding-left: 1rem;
    margin-bottom: 1.5rem;
  }
}

a:link,
a:visited {
	color: var(--accent);
	text-underline-offset: 0.2em;
	text-decoration-thickness: 1px;
  transition: all 0.2s ease;
}

a:hover {
  color: var(--base-100);
  text-decoration-thickness: 2px;
}

img {
	max-width: 100%;
  border-radius: 4px;
}

figure {
  padding: 0;
  border: 0;
  font-size: 100%;
  vertical-align: baseline;
  max-width: 42rem;
  -webkit-margin-start: 0;
  -webkit-margin-end: 0;
  margin: 2rem 0;
}

figure.fullwidth {
  max-width: 90%;
}

figure img {
  width: 100%;
}

figcaption {
  float: right;
  clear: right;
  margin-right: -45%;
  width: 40%;
  margin-top: 0;
  margin-bottom: 0;
  font-size: 1.0rem;
  line-height: 1.4;
  vertical-align: baseline;
  position: relative;
  color: var(--base-70);
}

figure.fullwidth figcaption {
  float: none;
  width: 100%;
  margin-right: 0;
  margin-top: 1rem;
}

@media (max-width: 1200px) {
  figcaption {
    float: none;
    margin-right: 0;
    width: 100%;
    margin-top: 1rem;
  }
}

code,
pre > code {
	font-family: var(--font-mono);
	font-size: 0.9rem;
	line-height: 1.5;
}

pre {
  background: var(--base-10);
  padding: 1rem;
  border-radius: 8px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

/* New Thought */
span.newthought {
	font-variant: small-caps;
	font-size: 1.2em;
}

@media (max-width: 900px) {
  body {
    font-size: 15px;
  }
  
  h1 { font-size: 2.2rem; }
  h2 { font-size: 1.8rem; }
  h3 { font-size: 1.4rem; }
}

