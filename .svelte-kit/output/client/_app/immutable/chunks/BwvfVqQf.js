import{g as L,b as $,Q as K,d as O,h as N,j as G,a as J,I as q,R as j,c as ee,H as re,s as y,f as k,l as x,C as ne,T as fe,U as V,m as ae,V as m,t as z,w as ie,W as Y,X as se,Y as U,Z as oe,_ as le,$ as te,a0 as ue,n as P,p as Q,a1 as D,q as de,k as ve,a2 as ce,a3 as pe,o as _e,a4 as ge,a5 as he,a6 as Ee}from"./BE8cp4uu.js";function Me(e,n){return n}function me(e,n,f){for(var t=[],u=n.length,l,o=n.length,_=0;_<u;_++){let h=n[_];Q(h,()=>{if(l){if(l.pending.delete(h),l.done.add(h),l.pending.size===0){var d=e.outrogroups;F(U(l.done)),d.delete(l),d.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var i=t.length===0&&f!==null;if(i){var v=f,a=v.parentNode;pe(a),a.append(v),e.items.clear()}F(n,!i)}else l={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(l)}function F(e,n=!0){for(var f=0;f<e.length;f++)_e(e[f],n)}var X;function be(e,n,f,t,u,l=null){var o=e,_=new Map,i=(n&K)!==0;if(i){var v=e;o=N?O(G(v)):v.appendChild(L())}N&&J();var a=null,h=j(()=>{var s=f();return oe(s)?s:s==null?[]:U(s)}),d,p=!0;function A(){r.fallback=a,Te(r,d,o,n,t),a!==null&&(d.length===0?(a.f&m)===0?P(a):(a.f^=m,R(a,null,o)):Q(a,()=>{a=null}))}var w=$(()=>{d=q(h);var s=d.length;let C=!1;if(N){var M=ee(o)===re;M!==(s===0)&&(o=y(),O(o),k(!1),C=!0)}for(var E=new Set,S=ae,b=ie(),g=0;g<s;g+=1){N&&x.nodeType===ne&&x.data===fe&&(o=x,C=!0,k(!1));var I=d[g],H=t(I,g),c=p?null:_.get(H);c?(c.v&&V(c.v,I),c.i&&V(c.i,g),b&&S.skipped_effects.delete(c.e)):(c=Ae(_,p?o:X??=L(),I,H,g,u,n,f),p||(c.e.f|=m),_.set(H,c)),E.add(H)}if(s===0&&l&&!a&&(p?a=z(()=>l(o)):(a=z(()=>l(X??=L())),a.f|=m)),N&&s>0&&O(y()),!p)if(b){for(const[W,Z]of _)E.has(W)||S.skipped_effects.add(Z.e);S.oncommit(A),S.ondiscard(()=>{})}else A();C&&k(!0),q(h)}),r={effect:w,items:_,outrogroups:null,fallback:a};p=!1,N&&(o=x)}function Te(e,n,f,t,u){var l=(t&ce)!==0,o=n.length,_=e.items,i=e.effect.first,v,a=null,h,d=[],p=[],A,w,r,s;if(l)for(s=0;s<o;s+=1)A=n[s],w=u(A,s),r=_.get(w).e,(r.f&m)===0&&(r.nodes?.a?.measure(),(h??=new Set).add(r));for(s=0;s<o;s+=1){if(A=n[s],w=u(A,s),r=_.get(w).e,e.outrogroups!==null)for(const c of e.outrogroups)c.pending.delete(r),c.done.delete(r);if((r.f&m)!==0)if(r.f^=m,r===i)R(r,null,f);else{var C=a?a.next:i;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,a,r),T(e,r,C),R(r,C,f),a=r,d=[],p=[],i=a.next;continue}if((r.f&D)!==0&&(P(r),l&&(r.nodes?.a?.unfix(),(h??=new Set).delete(r))),r!==i){if(v!==void 0&&v.has(r)){if(d.length<p.length){var M=p[0],E;a=M.prev;var S=d[0],b=d[d.length-1];for(E=0;E<d.length;E+=1)R(d[E],M,f);for(E=0;E<p.length;E+=1)v.delete(p[E]);T(e,S.prev,b.next),T(e,a,S),T(e,b,M),i=M,a=b,s-=1,d=[],p=[]}else v.delete(r),R(r,i,f),T(e,r.prev,r.next),T(e,r,a===null?e.effect.first:a.next),T(e,a,r),a=r;continue}for(d=[],p=[];i!==null&&i!==r;)(v??=new Set).add(i),p.push(i),i=i.next;if(i===null)continue}(r.f&m)===0&&d.push(r),a=r,i=r.next}if(e.outrogroups!==null){for(const c of e.outrogroups)c.pending.size===0&&(F(U(c.done)),e.outrogroups?.delete(c));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||v!==void 0){var g=[];if(v!==void 0)for(r of v)(r.f&D)===0&&g.push(r);for(;i!==null;)(i.f&D)===0&&i!==e.fallback&&g.push(i),i=i.next;var I=g.length;if(I>0){var H=(t&K)!==0&&o===0?f:null;if(l){for(s=0;s<I;s+=1)g[s].nodes?.a?.measure();for(s=0;s<I;s+=1)g[s].nodes?.a?.fix()}me(e,g,H)}}l&&de(()=>{if(h!==void 0)for(r of h)r.nodes?.a?.apply()})}function Ae(e,n,f,t,u,l,o,_){var i=(o&le)!==0?(o&te)===0?se(f,!1,!1):Y(f):null,v=(o&ue)!==0?Y(u):null;return{v:i,i:v,e:z(()=>(l(n,i??f,v??u,_),()=>{e.delete(t)}))}}function R(e,n,f){if(e.nodes)for(var t=e.nodes.start,u=e.nodes.end,l=n&&(n.f&m)===0?n.nodes.start:f;t!==null;){var o=ve(t);if(l.before(t),t===u)return;t=o}}function T(e,n,f){n===null?e.effect.first=f:n.next=f,f===null?e.effect.last=n:f.prev=n}const Se=Symbol("is custom element"),Ie=Symbol("is html");function He(e,n,f,t){var u=Ne(e);N&&(u[n]=e.getAttribute(n),e.nodeName==="LINK")||u[n]!==(u[n]=f)&&(f==null?e.removeAttribute(n):typeof f!="string"&&we(e).includes(n)?e[n]=f:e.setAttribute(n,f))}function Ne(e){return e.__attributes??={[Se]:e.nodeName.includes("-"),[Ie]:e.namespaceURI===ge}}var B=new Map;function we(e){var n=e.getAttribute("is")||e.nodeName,f=B.get(n);if(f)return f;B.set(n,f=[]);for(var t,u=e,l=Element.prototype;l!==u;){t=Ee(u);for(var o in t)t[o].set&&f.push(o);u=he(u)}return f}export{be as e,Me as i,He as s};
